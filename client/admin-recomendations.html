<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
    <script src="js/app.js"></script>
    <script src="js/factories/userFactory.js"></script>
    <script src="js/controllers/userController.js"></script>
    <script src="js/factories/requestFactory.js"></script>
    <script src="js/controllers/requestController.js"></script>
    <script src="js/factories/recommendationFactory.js"></script>
    <script src="js/controllers/recommendationController.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Clicker Script' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Overpass' rel='stylesheet'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles/main.css">
  </head>
  <body ng-app="directoryApp">
    <div class="container">
      <!--Nav Bar-->
        <div class="header clearfix">
          <img id="logo" src="images/Logo.jpg"/>
          <nav>
            <ul class="nav nav-pills float-right">
              <li class="nav-item">
                <a class="nav-link" href="admin.html">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="admin-contact.html">Contact Messages</a>
              </li>
              <li class="nav-item">
                      <a class="nav-link" href="admin-recomendations.html">Create Recommendation</a>
              </li>
        			<li class="nav-item">
                <a class="nav-link" href="admin-blogpost.html">Blog Posts</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="login.html">Sign Out</a>
              </li>
            </ul>
          </nav>
        </div>
        <!--End Nav Bar-->

      <!--Start table of requests-->
      <div class="col-md-12" ng-controller="RequestsController">
        <div class="input-group" id="searchBar">
          <!--

              Implement a way to filter through listings using the search bar

            -->
          <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
          <input type="text" class="form-control" placeholder="Search" ng-model = "request">
        </div>
        <div class="tableWrapper">
          <table class="table table-striped table-bordered table-hover">
            <tr>
              <th scope='col' class='text-center'>Email</th>
              <th scope='col' class='text-center'>Budget</th>
              <th class='text-center'>Delete</th>
            </tr>
            <div ng-controller="RequestsController" ng-click="showDetails($index)" ng-init="getAll()">
            <tbody>
            <tr ng-repeat="request in requests | filter: request">
              <td>{{request.email}}</td>
              <td>{{request.budget}}</td>
              <td> <button ng-click="deleteUser(request._id)">Delete</button><span style="color: red;"></span></td>
            </tr>
          </tbody>
          </div>
          <br>
            <!--

                Fill in the rest of the table:
                    * populate the rows with the code and name of each listing
                    * include a way to remove individual listings

              -->
          </table>
        </div>
      </div>
      <!--End table of requests-->

      <!--Start recommendation form-->
      <br>
      <h1 class="text-center" style= "float:left"> Create Recommendation</h1>
      <div class="col-md-6">
          <div class="row" ng-controller="RecommendationsController">
          <form novalidate class="simple-form" method="POST">
            <b>User:</b> <br><input type="text"  class="form-control text-center form-control-lg" ng-model="newRecommendation.user" /><br />
            <b>Title:</b> <br><input type="text"  class="form-control text-center form-control-lg" ng-model="newRecommendation.recommend" /><br />
            <b>Info: </b><br><input type="text"  class="form-control text-center form-control-lg" ng-model="newRecommendation.info" /><br />
            <b>Link:</b> <br><input type="text"  class="form-control text-center form-control-lg" ng-model="newRecommendation.link" /><br />
            <br><button class="btn btn-primary btn-lg btn-block" ng-click="addRecommendation(newRequest.email, newRequest.return, newRequest.departurem, newRequest.returnDate, newRequest.departureDate, newRequest.budget, newRequest.numAdults, newRequest.numKids, newRequest.comments)">Add Recommendation</button>
          </form>
          </div>
      </div>
      <!--End recommendation form-->

      <!--Start detailed info about requests-->
      <div class="col-md-6" ng-controller="RequestsController">
        <div class="jumbotron">
          <h2>User Request</h2>
          <h4>{{detailedInfo.email}}</h4>
          <p>Request: {{detailedInfo.comments}}</p>
          <p>Departure: {{detailedInfo.departureDate}}</p>
          <p>Return: {{detailedInfo.returnDate}}</p>
        </div>
      </div>
      <!--End detailed info about requests-->
    </div>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <!-- <script src="https://code.angularjs.org/1.4.3/angular.js"></script> -->

  </body>
</html>
