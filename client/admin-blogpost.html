<!DOCTYPE html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
  <script src="js/app.js"></script>
  <script src="js/factories/userFactory.js"></script>
  <script src="js/controllers/userController.js"></script>
  <script src="js/factories/blogFactory.js"></script>
  <script src="js/controllers/blogController.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Overpass' rel='stylesheet'>
  <link rel="stylesheet" href="styles/main.css">
  <style>
    .card-header{
      background-color: #725ac1;
      color: white
    }
  </style>
</head>

<body ng-app="directoryApp">
  <div class="container">
    <!--Nav Bar-->
      <div class="header clearfix">
        <!--Logo-->
        <img id="logo" src="images/Logo.jpg"/>
        <nav>
          <ul class="nav nav-pills float-right">
            <li class="nav-item">
              <a class="nav-link" href="admin.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin-contact.html">Contact Messages</a>
            </li>
            <li class="nav-item">
                    <a class="nav-link" href="admin-recomendations.html">Create Recommendation</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin-blogpost.html">Blog Posts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="login.html">Sign Out</a>
            </li>
          </ul>
        </nav>
      </div>
      <!--End Nav Bar-->
    </div>
    <div class="container my-5" id="profile">
        <!--Start of table of blog posts-->
        <h1 class="titleFont">Blog Posts</h1>
        <div style="overflow-x:auto;">
        <div class="row">
            <div class="col-sm-9" ng-controller="BlogPostsController" data-ng-init="getAll()">
                <table class="table table-striped table-hover">
                    <thead>
                            <th>Post</th>
                            <th>Body</th>
                            <th>Picture Link</th>
                            <th>Date Created</th>
                    </thead>
                    <tbody ng-repeat = "blogPost in blogPosts">
                        <tr>
                            <td>{{blogPost.title}}</td>
                            <td>{{blogPost.text}}</td>
                            <td>{{blogPost.pic}}</td>
                            <td>{{blogPost.createdDate | date}}</td>
                            <td> <button ng-click="deleteBlogPost(blogPost._id)">Delete</button><span style="color: red;"></span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
          </div>
        </div>
        <!--End of table of blog posts-->
            <!-- Start of Post Blog -->
            <div class="container-fluid py-5" id="Blog" ng-controller="BlogPostsController">
                <div class="row">
                    <div class="col-sm">
                        <div class="card">
                            <div class="card-header">
                              <span><b>New Blog Post</b></span>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <label>Title</label>
                                            <input type="text" class="form-control" id="TitleBlog" placeholder="Title" ng-model="newBlogPost.title" >
                                        </div>
                                    </div>
                                    <div class="row pt-3 pb-4">
                                        <div class="col">
                                            <label>Post:</label>
                                            <textarea type="text" class="form-control" rows="10" ng-model="newBlogPost.text"></textarea>
                                        </div>
                                    </div>
                                    <div class="row pt-3 pb-4">
                                        <div class="col">
                                            <label>Picture URL:</label>
                                            <textarea type="text" class="form-control" ng-model="newBlogPost.pic"></textarea>
                                        </div>
                                    </div>
                                    <div class="">
                                        <button type="button" class="btn btn-success" ng-click ="addBlogPost(newBlogPost.title,newBlogPost.text,newBlogPost.pic)">Submit</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Start of Footer-->
                  <footer class="footer">
                    <p>&copy; Bochitto Travel</p>
                  </footer>
                <!--End of Footer-->
            </div>
            <!-- End of Post Blog -->
        </div>
    </div>

</body>
</html>
